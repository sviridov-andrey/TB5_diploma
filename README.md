# Трекер задач сотрудников

## Для работы с проектом необходимо выполнить следующие действия:
- Клонировать репозиторий.
- Активировать виртуальное окружение env/bin/activate.bat
- Установить зависимости pip install -r requirements.txt
- Создать файл .env, заполнить его данными из файла env.sample
- Создать базу данных в PostreSQL CREATE DATABASE <название базы>;
- Запустить приложение командой python main.py
- Откройте браузер и перейдите по адресу http://127.0.0.1:8000/docs для доступа к документации Swagger.

## Поставлена задача:
Необходимо реализовать серверное приложение для работы с базой данных. Требования к базе данных:
БД реляционная (желательно Postgres)
БД представляет собой трекер задач и содержит следующие таблицы:
1)таблица сотрудников (ФИО, должность, ...);
2)таблица задач (наименование, ссылка на родительскую задачу, если есть зависимость, исполнитель, срок, статус, ...).
Реализовать на Python REST API (желательно FastAPI) со следующими эндпоинтами:
- CRUD для сотрудников и задач
- "Занятые сотрудники": Запрашивает из БД список сотрудников и их задачи, отсортированный по количеству активных задач.    
    "Важные задачи":1)запрашивает из БД задачи не взятые в работу, и от которых    
    зависят другие задачи, взятые в работу.2)реализует поиск по сотрудникам, которые могут взять такие    
    задачи (наименее загруженный сотрудник или сотрудник выполняющий родительскую задачу если ему назначено максимум 
    на 2 задачи больше, чем у наименее загруженного сотрудника).    
    3)возвращает Список объектов [{Важная задача, Срок, [ФИО сотрудника]}].    
    Желательно реализовать валидацию данных.


## Исспользован стэк
- python==3.11.1
- fastapi==0.109.2
- pydantic==2.6.1
- psycopg2==2.9.9
- uvicorn==0.27.1

## Состав приложения:
- Модуль для создания таблиц create_tables.py
- Модуль подключения к базе данных database.py
- Модуль схем schemas.py
- Модуль main.py
- Пакет с тремя модулями роутеров routers

## Таблицы
- employees
- tasks

## Эндпоинты

- CRUD для сотрудников и задач
- Четыре эндпоинта для запросов к базе данных по условиям техзадания


## Документация

Автоматическая документация формируется при установке приложения. Интуитивно понятный интерфайс позволяет сразу 
со всеми эндпоинтами
Доступна по адресам:
- http://127.0.0.1:8000/docs/
- http://127.0.0.1:8000/redoc/
- 

## Описание работы проекта

При запуске приложения в базе данных создаются отсутствующие в базе таблицы. От пользователя не требуется использовать
миграции или командную строку для их создания. Вся работа приложения осуществляется и визуально контролируется через
автоматическую документацию. 
Доступна работа с эндпоинтами:
- CRUD для таблиц employees и tasks. 
- Эндпоинт для получения из БД списка сотрудников, отсортированный по количеству активных задач
- Эндпоинт для получения из БД список сотрудников и их задачи, отсортированный по количеству активных задач у сотрудника
- Эндпоинт для получения из БД список важных задач не взятых в работу
- Эндпоинт для получения из БД список обычных задач не взятых в работу
Запросы и ответы осуществляются в формате JSON

